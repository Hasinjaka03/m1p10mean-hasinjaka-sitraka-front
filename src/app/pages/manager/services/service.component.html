<app-header [user]="user"></app-header>

<main id="main" class="main">
    <section class="section d-flex flex-column align-items-center justify-content-center">
<div class="card d-flex flex-column width_form" >
    <div class="card-body" >
      <h5 class="card-title color_text text-center pb-0 fs-4">Ajout ou Modification service</h5>
        <br>
      <!-- Horizontal Form -->
      <form (submit)="submitForm()" #insertionForm ="ngForm" >
        <div class="row mb-3">
          <label for="inputText" class="col-sm-3 col-form-label">Nom</label>
          <div class="col-sm-8">
            <input type="text" class="form-control" id="inputText" name="nom" [(ngModel)]="inputService.nom" required>
          </div>
        </div>
        <div class="row mb-3">
          <label for="inputEmail3" class="col-sm-3 col-form-label">Durée</label>
          <div class="col-sm-8">
            <input type="time" class="form-control" id="inputEmail" name="duree" [(ngModel)]="inputDure" required>
          </div>
        </div>
        <div class="row mb-3">
          <label for="inputPassword3" class="col-sm-3 col-form-label">Prix (Ar)</label>
          <div class="col-sm-8">
            <input type="number" step="any" class="form-control" id="inputPassword" name="prix" [(ngModel)]="inputService.prix" required>
          </div>
        </div>
        <div class="row mb-3">
            <label for="commission" class="col-sm-3 col-form-label">Commission (%)</label>
            <div class="col-sm-8">
              <input type="number" step="any" class="form-control" id="commission" name="commission" [(ngModel)]="inputService.commission" required>
            </div>
        </div>
        <br>
        <div class="text-center">
          <button type="submit" class="btn btn-primary w-25" [disabled]="insertionForm.invalid">Submit</button>&nbsp;    
        </div>
      </form><!-- End Horizontal Form -->
      <br>
        <div class="text-center">
          <button *ngIf="!iscreate" (click)="initialisee()" class="btn btn-secondary w-25">Annuler</button>
        </div>
      

        </div>
    </div>
</section>
<section class="section">
<div class="card top-selling overflow-auto">
    <div class="card-body">
      <h5 class="card-title color_text pb-0 fs-4">Liste des Services</h5>

      <!-- Default Table -->
      <table class="table text-center">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Nom</th>
            <th scope="col">Durée</th>
            <th scope="col">Prix</th>
            <th scope="col">Commission</th>
            <th scope="col"></th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let service of services; let i=index">
            <th scope="row">{{i+1}}</th>
            <td>{{service.nom}}</td>
            <td>{{service.duree | heure }}</td>
            <td>{{service.prix}} Ar</td>
            <td>{{service.commission}} %</td>
            <td><button (click)="ismodified(service)" class="btn btn-primary rounded-pill">Modifier</button></td>
            <td><button (click)="supprimerService(service._id)" class="btn btn-success rounded-pill">Supprimer</button></td>
          </tr>
          
        </tbody>
      </table>
      <!-- End Default Table Example (click)="ismodified(service)"-->
    </div>
  </div>

  </section>

</main>     
<app-footer></app-footer>
